<!DOCTYPE html>
<html style="overflow-x:hidden">
<head>
    <title>{$_CFG['site']['name']}_漫画网国漫韩漫</title>
    <meta name="keywords" content="漫画大全,漫画图片,漫画投稿,在线漫画,斗破苍穹漫画,斗罗大陆漫画,偷星九月天,穿越西元3000后,凤逆天下,风起苍岚,妃夕妍雪,BL漫画,耽美漫画,知音漫客,飒漫画,漫画下载" />
    <meta name="description" content="{$_CFG['site']['name']} 国漫，韩漫，斗破苍穹漫画、斗罗大陆漫画，元尊漫画，看漫画，就来{$_CFG['site']['name']}！" />
    <!-- 共用引入资源.开始 -->
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="viewport" content="designWidth=750,width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- 防止加载lib.flexible加载的时候文字由大变小的闪烁 -->
    <style>html,body{font-size:12px;}</style>
    <!-- lib.flexible 移动端相对适应比例 必须在浏览器head类 -->
    <script type="text/javascript">
        !function (a, b) { function c() { var b = f.getBoundingClientRect().width; b / i > 540 && (b = 540 * i); var c = b / 10; f.style.fontSize = c + "px", k.rem = a.rem = c } var d, e = a.document, f = e.documentElement, g = e.querySelector('meta[name="viewport"]'), h = e.querySelector('meta[name="flexible"]'), i = 0, j = 0, k = b.flexible || (b.flexible = {}); if (g) {  var l = g.getAttribute("content").match(/initial\-scale=([\d\.]+)/); l && (j = parseFloat(l[1]), i = parseInt(1 / j)) } else if (h) { var m = h.getAttribute("content"); if (m) { var n = m.match(/initial\-dpr=([\d\.]+)/), o = m.match(/maximum\-dpr=([\d\.]+)/); n && (i = parseFloat(n[1]), j = parseFloat((1 / i).toFixed(2))), o && (i = parseFloat(o[1]), j = parseFloat((1 / i).toFixed(2))) } } if (!i && !j) { var p = (a.navigator.appVersion.match(/android/gi), a.navigator.appVersion.match(/iphone/gi)), q = a.devicePixelRatio; i = p ? q >= 3 && (!i || i >= 3) ? 3 : q >= 2 && (!i || i >= 2) ? 2 : 1 : 1, j = 1 / i } if (f.setAttribute("data-dpr", i), !g) if (g = e.createElement("meta"), g.setAttribute("name", "viewport"), g.setAttribute("content", "initial-scale=" + 1 + ", maximum-scale=" + 1 + ", minimum-scale=" + 1 + ", user-scalable=no"), f.firstElementChild) f.firstElementChild.appendChild(g); else { var r = e.createElement("div"); r.appendChild(g), e.write(r.innerHTML) } a.addEventListener("resize", function () { clearTimeout(d), d = setTimeout(c, 300) }, !1), a.addEventListener("pageshow", function (a) { a.persisted && (clearTimeout(d), d = setTimeout(c, 300)) }, !1), "complete" === e.readyState ? e.body.style.fontSize = 12 * i + "px" : e.addEventListener("DOMContentLoaded", function () { e.body.style.fontSize = 12 * i + "px" }, !1), c(), k.dpr = a.dpr = i, k.refreshRem = c, k.rem2px = function (a) { var b = parseFloat(a) * this.rem; return "string" == typeof a && a.match(/rem$/) && (b += "px"), b }, k.px2rem = function (a) { var b = parseFloat(a) / this.rem; return "string" == typeof a && a.match(/px$/) && (b += "rem"), b } }(window, window.lib || (window.lib = {}));
    </script>
    <link rel="stylesheet" type="text/css" href="__PUBLIC__/home/mhcss/style.min.css?v=20210126" />
    <!--script type="text/javascript" src="__PUBLIC__/home/mhjs/fundebug.0.1.7.min.js?v=1501078790472" apikey="ba3a0e0d938e92b44f279067dffb8d071ee87fc35eb75918b7a900e8581a955d"></script-->
    <script type="text/javascript" src="__PUBLIC__/home/mhjs/jquery.js?v=1501078790472"></script>
    <!-- 共用引入资源.结束 -->
    <script type="text/javascript" src="__PUBLIC__/home/mhjs/jquery.lazyload.js?v=20171228"></script>

    <style type="text/css">
        #banner-container { display: block; position: relative; z-index: 1; width: 100%; overflow: hidden; }
        #banner-container .loading { display: block; width: 70px; text-align: center; font-size: 0; position: absolute; top: 50%; left: 50%; -webkit-transform: translate3d(-50%,-50%,0); transform: translate3d(-50%,-50%,0); }
        #banner-container .loading .item { width: 18px; height: 18px; margin: 0 2px; background-color: #333333; border-radius: 100%; display: inline-block; -webkit-animation: loading-delay 1.4s infinite ease-in-out; animation: loading-delay 1.4s infinite ease-in-out; -webkit-animation-fill-mode: both; animation-fill-mode: both; }
        #banner-container .loading .item:nth-child(2) { -webkit-animation-delay: -0.16s; animation-delay: -0.16s; }
        #banner-container .loading .item:nth-child(3) { -webkit-animation-delay: -0.32s; animation-delay: -0.32s; }
        @-webkit-keyframes loading-delay {
            0%,80%,100% {
                -webkit-transform: scale(0);
            }
            40% {
                -webkit-transform: scale(1);
            }
        }
        @keyframes loading-delay {
            0%,80%,100% {
                transform: scale(0);
                -webkit-transform: scale(0);
            }
            40% {
                transform: scale(1);
                -webkit-transform: scale(1);
            }
        }
		.navbar > .tab-box{
			width:5rem;
		}
    </style>
<include file="include/headcode" />    
</head>
<body>
<div class="navbar flt">
   <nav class="tab-box">
		<div class="item">
            <a href="{:U('Mh/index')}" class="active">漫画</a>
        </div>
        <div class="item">
            <a href="{:U('Book/index')}">小说</a>
        </div>
		<!-- <div class="item">
            <a href="{:U('Yook/index')}">听书</a>
        </div>-->
		
    </nav>
    <div class="action">
        <a href="{:U('Mh/load_search')}" class="btn">
            <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
            	<path d="M35.94 35.94l7.71 7.71" fill="none" stroke="#fff" stroke-width="3"/>
            	<circle cx="23.3" cy="23.3" r="18.5" fill="none" stroke="#fff" stroke-width="3"/>
            	<path d="M11.72 23.15A12 12 0 0 1 24.5 12" fill="none" stroke="#fff" stroke-linecap="round" stroke-width="3"/>
            </svg>
        </a>
    </div>
</div>

<div id="banner-container">
    <div class="loading">
        <div class="item"></div><div class="item"></div><div class="item"></div>
    </div>
    <div class="indexnav portal-slick mt-navbar">
        <volist name="_banner['config']" id="vo">
			<div class="item">
				<a href="{:U('Mh/'.$vo['url'])}">
				<img class="slide_loading" src="{$vo.pic}" data-original="{$vo.pic}" alt="漫画轮播图" />
				</a>
			</div>
        </volist>
    </div>
</div>
<style>
.item_cate{
	width: 1.333rem;
    height: 1.333rem;
}	
</style>
<div class="banner-bottom">
    <img src="/Public/home/mhimages/home-banner-bottom.png">
</div>

<nav class="portal-nav">
	<foreach name="_mhcate" item="v" key="k">
		<if condition="$v['show'] eq 1  and $v['isshow']">
		<div class="item">
			<a href="{$v.url}">
				<img src="{$v.pic}" class="item_cate"/>
				<div class="title">{$v.name}</div>
			</a>
		</div>
		</if>
	</foreach>
</nav>

<foreach name="mhcate" item="v" key="k">
	<if condition="$v['list']">
	<div class="bm-box mt-10">
		<div class="head">
			<div class="title dot">{$v.name}<a class="ax" href="javascript:getData({$k});">换一换</a></div>
			<div class="pull-right">
				<a href="{:U('Mh/mhlist',array('cate'=>$k))}">
					更多 <svg width="7" height="12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 24">
					<title>right-arrow</title>
					<path d="M1.91 1.93L12.06 12 1.91 22" fill="none" stroke="#ff5420" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>
				</a>
			</div>
		</div>
		<div class="books-row" id="row{$k}">
			<volist name="v['list']" id="vo">
			<div class="item">
				<!--a href="{:U('Mh/bookinfo')}&mhid={$vo.id}"-->
				<a href="{:U('Mh/'.$vo['id'])}">    
					<img class="lazy" src="/Public/file/default_img.png" data-original="{$vo.cover_pic}" style="width:110px;height:146px;" />
					<div class="title">{$vo.title}</div>
					<div class="text">更新至{$vo.episodes}话</div>
				</a>
			</div>
		   </volist>
		</div>
	</div>
	</if>
</foreach>

<style>

</style>
<if condition="$mf">
<div class="bm-box mt-10">
	<div class="head">
		<div class="title dot">免费专区<a class="ax" href="javascript:getData('free');">换一换</a></div>
		<div class="pull-right">
			<a href="{:U('Mh/book_free')}">
				更多 <svg width="7" height="12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 24">
				<title>right-arrow</title>
				<path d="M1.91 1.93L12.06 12 1.91 22" fill="none" stroke="#ff5420" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>
			</a>
		</div>
	</div>
	<div class="books-row" id="rowfree">
		<volist name="mf" id="vo">
			<div style="width:100%;padding-bottom: 20px;border-bottom: 1px solid #ddd;position:relative;">
				<img class="lazy"  src="/Public/file/default_img.png" data-original="{$vo.cover_pic}" style="width:88px;height:110px;float:left;margin:10px;" />
				<div class="title" style="margin-top: 15px;font-size: 17px;color: #000;">{$vo.title}</div>
				<div class="text" style="margin-top: 5px;font-size: 14px;color: #666666;">{$vo.author}</div>
				<div class="text" style="margin-top: 5px;font-size: 14px;color: #666666;height:60px;text-overflow: ellipsis;overflow: hidden; word-wrap: break-word;word-break: break-all;">{$vo.summary}</div>
				<div onclick="location.href=&#39;{:U('Mh/'.$vo[id])}&#39;" style="position: absolute;top: 10px;right: 10px;padding: 8px;border: 1px solid #FF9800;border-radius: 5px;color: #FF9800;">立即阅读</div>
			</div>
	   </volist>
	</div>
</div>
<else />
	<div style="margin:10px 0;width:100%;border:1px solid #eeeeee"></div>	
</if>
<!--div style="width:200px;height:200px;margin:20px auto 60px auto">
	<if condition="$member['gqrcode']">
	<img src="{$member['gqrcode']}" style="width:100%;height:100%;" />
	<else />
	<img src="{$_site['qrcode']}" style="width:100%;height:100%;" />
	</if>
	<span style="display: block;width: 100%;text-align: center;font-size: 14px;color: #666666;"><br/>客服微信号：{$_site['weixin']}</span>
</div-->
<div style="clear:both;height:1.4rem;"></div>
<div class="backtop" id="icon-top" style="display:none">
    <a href="javascript:void(0);" class="top">顶部</a>
</div>
<div class="tabar flb">
    <nav class="nav hls1">
        <div class="item">
            <a href="{:U('Mh/book_shelf')}">
                <i class="icon-book"></i><div class="title">书架</div>
            </a>
        </div>
        <div class="item">
            <a href="{:U('Mh/index')}" class="active">
                <i class="icon-home"></i><div class="title">漫画</div>
            </a>
        </div>
       <div class="item">
            <a href="{:U('Book/index')}" >
                <i class="icon-home"></i><div class="title">小说</div>
            </a>
        </div>
        <div class="item">
            <a href="{:U('Member/my')}">
                <i class="icon-user"></i><div class="title">我的</div>
            </a>
        </div>
    </nav>
</div>
<script type="text/javascript">
    $(function(){
        //距离100px自动加载下一张图片
        $("img.lazy").lazyload({ threshold:100,effect:'fadeIn' });
        $("#single-media div").show();
        $('.portal-slick').slick({
            arrows: false,
            dots: true,
            autoplay: true,
            autoplaySpeed: 3000,
            adaptiveHeight: true
        });  
    });
    
    function bh_msg_tips(msg) {
		var oMask = document.createElement("div");
		oMask.id = "bh_msg_lay";
		oMask.style.position = "fixed";
		oMask.style.left = "0";
		oMask.style.top = "50%";
		oMask.style.zIndex = "100";
		oMask.style.textAlign = "center";
		oMask.style.width = "100%";
		oMask.innerHTML = "<span style='background: rgba(0, 0, 0, 0.65);color: #fff;padding: 10px 15px;border-radius: 3px; font-size: 14px;'>" + msg
			+ "</span>"; document.body.appendChild(oMask);
		setTimeout(function () {
			$("#bh_msg_lay").remove();
		}, 2000);
	}
    
    var wait = true;
	function getData(cate,mhid){
	    bh_msg_tips('正在加载，请稍等...');
        // 滚动到底部获取新的分页
        if(wait==false) return;
        
        wait = false;
        var url = "{:U('/Ajax/book_titl')}";
        var data = {cate: cate,mhid: mhid};
		$.post(url,data,function(d){
		    $('#bh_msg_lay').remove();
			if(d){
				if(d.status){
				   $('#row'+data.cate).html(d.info);
				   $("img.lazy").lazyload({effect:"fadeIn"});
				  	
				}else{
					bh_msg_tips(d.info);
				}
			}else{
				bh_msg_tips('请求失败');
			}
			wait = true;
		})
    };
</script>
<include file="include/footer" />
</body>
</html>